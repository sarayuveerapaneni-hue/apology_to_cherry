<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apology Letter ğŸ’Œ</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #ffd6e7, #ffffff, #e6d6ff);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .card {
      background: white;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      max-width: 500px;
      width: 90%;
      text-align: center;
      position: relative;
    }

    h1 { font-size: 26px; margin-bottom: 10px; }
    p { color: #555; font-size: 15px; }

    .buttons {
      margin-top: 15px;
      display: grid;
      gap: 10px;
    }

    button {
      padding: 10px;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      font-size: 14px;
      transition: 0.2s;
      position: relative;
    }

    .primary { background: #111; color: white; }
    .secondary { background: #eee; }
    .outline { background: white; border: 1px solid #ccc; }
    .danger { background: #ff4d6d; color: white; }

    .hidden { display: none; }

    textarea {
      width: 100%;
      min-height: 100px;
      border-radius: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    .hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
    }

    .heart {
      position: absolute;
      font-size: 24px;
      animation: float 1.2s ease-out forwards;
    }

    @keyframes float {
      from { opacity: 1; transform: translateY(0) scale(0.5); }
      to { opacity: 0; transform: translateY(-120px) scale(1.4); }
    }
  </style>
</head>

<body>

<!-- MAIN PAGE -->
<div class="card" id="mainPage">
  <h1>Apology Letter ğŸ’Œ</h1>
  <p>Hi Charitha (Kukka) ğŸ¥º</p>
  <p>Eyy chaale inka ante edo strangers la untunname manam. I canâ€™t take this anymoreâ€¦ sorry ra.</p>
  <p>Whatever youâ€™re feeling, I want to understand ğŸ’­</p>

  <div class="buttons">
    <button class="primary" onclick="openOption1()">1ï¸âƒ£ Chipotle burger kaavali ğŸ”</button>
    <button class="secondary" onclick="openOption2()">2ï¸âƒ£ Space kaavali ğŸŒ™</button>
    <button class="outline" onclick="openOption3()">3ï¸âƒ£ Write what you felt wrong âœï¸</button>
    <button class="danger" id="option4">4ï¸âƒ£ Naakem voddu ğŸ˜¤</button>
  </div>

  <p style="margin-top:10px;font-size:13px;color:#888;">
    No pressureâ€¦ but I really miss us ğŸ¤
  </p>
</div>

<!-- OPTION 1 -->
<div class="card hidden" id="option1Page">
  <h1>Chipotle burger kaavala? ğŸ”</h1>
  <p>Sare istheâ€¦ naatho matlaadataava? ğŸ¥º</p>

  <div class="buttons" style="grid-template-columns:1fr 1fr;">
    <button class="primary" onclick="burgerYes()">Yes ğŸ¤</button>
    <button class="secondary" id="burgerNo">No ğŸ˜Œ</button>
  </div>

  <button class="outline" onclick="goBack()">â† Go Back</button>
</div>

<!-- OPTION 2 -->
<div class="card hidden" id="option2Page">
  <h1>ğŸŒ™ Space Ah?</h1>
  <p>Eyy alredy 2 days icha entha kaavele neekuâ€¦ dobbey. Naaku baada osthundi ğŸ˜­</p>

  <audio autoplay muted loop>
    <source src="sad-violin.mp3" type="audio/mpeg">
  </audio>

  <button class="outline" onclick="goBack()">â† Go Back</button>
</div>

<!-- OPTION 3 -->
<div class="card hidden" id="option3Page">
  <h1>Tell Me What Hurt You âœï¸</h1>

  <p>
    I really want to understandâ€¦  
    Can we fix this? ğŸ¥º
  </p>

  <div class="buttons" style="grid-template-columns:1fr 1fr;">
    <button class="primary" onclick="spaceYes()">Yes ğŸ¤</button>
    <button class="secondary" onclick="spaceNo()">No ğŸ˜Œ</button>
  </div>

  <button class="outline" onclick="goBack()">â† Go Back</button>
</div>

<!-- DAYS PAGE -->
<div class="card hidden" id="daysPage">
  <h1>How many days space kaavali? â³</h1>

  <textarea id="daysInput" placeholder="Tell me honestlyâ€¦"></textarea>

  <div class="buttons">
    <button class="primary" onclick="sendDays()">Send ğŸ’Œ</button>
    <button class="outline" onclick="goBack()">â† Go Back</button>
  </div>
</div>

<div class="hearts" id="hearts"></div>

<!-- EMAILJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script>
  (function() {
    emailjs.init("Dcf3SfschPSnAlXID");
  })();

  const mainPage = document.getElementById("mainPage");
  const option1Page = document.getElementById("option1Page");
  const option2Page = document.getElementById("option2Page");
  const option3Page = document.getElementById("option3Page");
  const daysPage = document.getElementById("daysPage");

  function openOption1() {
    mainPage.classList.add("hidden");
    option1Page.classList.remove("hidden");
  }

  function openOption2() {
    mainPage.classList.add("hidden");
    option2Page.classList.remove("hidden");
  }

  function openOption3() {
    mainPage.classList.add("hidden");
    option3Page.classList.remove("hidden");
  }

  function goBack() {
    option1Page.classList.add("hidden");
    option2Page.classList.add("hidden");
    option3Page.classList.add("hidden");
    daysPage.classList.add("hidden");
    mainPage.classList.remove("hidden");
  }

  function burgerYes() {
    sendEmail("chipotle burger isthe matlaadatha");
    explodeHearts();
  }

  function spaceYes() {
    sendEmail("inka 1 day space kavali");
  }

  function spaceNo() {
    option3Page.classList.add("hidden");
    daysPage.classList.remove("hidden");
  }

  function sendDays() {
    const msg = document.getElementById("daysInput").value;

    if (!msg.trim()) {
      return alert("Write number of days ğŸ˜Œ");
    }

    sendEmail("She needs space for: " + msg);
  }

  function sendEmail(message) {
    emailjs.send("service_fi29wwd", "template_1ul3hcp", {
      message: message,
    })
    .then(() => alert("Message sent ğŸ’Œ"))
    .catch(() => alert("Failed to send ğŸ˜¢"));
  }

  function explodeHearts() {
    const hearts = document.getElementById("hearts");

    for (let i = 0; i < 12; i++) {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.innerText = "ğŸ’–";
      heart.style.left = Math.random() * window.innerWidth + "px";
      heart.style.top = Math.random() * window.innerHeight + "px";
      hearts.appendChild(heart);

      setTimeout(() => heart.remove(), 1200);
    }
  }

  function moveAway(btn) {
    btn.style.position = "absolute";
    btn.style.left = Math.random() * 200 - 100 + "px";
    btn.style.top = Math.random() * 200 - 100 + "px";
  }

  document.getElementById("burgerNo").addEventListener("mouseenter", function() {
    moveAway(this);
  });

  document.getElementById("option4").addEventListener("mouseenter", function() {
    moveAway(this);
  });
</script>

</body>
</html>
